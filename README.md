# Dialogflow Chatbots: Telegram & VK

Проект включает **Telegram-** и **VK-ботов**, использующих **Dialogflow** для обработки и генерации ответов на сообщения пользователей.

**Dialogflow** — это облачный сервис от Google для создания чат-ботов, который использует технологии обработки естественного языка для генерации умных ответов на сообщения пользователей. Он позволяет строить ботов, которые могут понимать текстовые запросы и давать осмысленные ответы.

### Примеры работающих ботов:
**Telegram-бот:** Перейдите по ссылке, чтобы увидеть пример работы [Telegram-бота](https://t.me/game_0f_verbs_bot).

**VK-бот:** Заходите в [группу в ВКонтакте](https://vk.com/club229560473) и напишите сообщение в чат, чтобы увидеть, как бот работает.

## Установка и настройка


### 1. Скачайте или клонируйте репозиторий:

```shell
git clone https://github.com/yelena0000/DialogFlow.git
```

### 2. Установите зависимости:

```shell
pip install -r requirements.txt
```

### 3. Настройте переменные окружения:

Создайте файл `.env` в корневой папке вашего проекта и добавьте в него следующие переменные:


```
TG_BOT_TOKEN=ваш_токен_телеграм_бота
VK_GROUP_TOKEN=ваш_токен_группы_вк
DIALOGFLOW_PROJECT_ID=ваш_id_проекта_dialogflow
TG_CHAT_ID=ваш_чат_айди_для_получения_ошибок
```
`TG_BOT_TOKEN` — токен **Telegram-бота**, созданного через [BotFather](https://telegram.me/BotFather). Сохраните и укажите его здесь.

`VK_GROUP_TOKEN` — токен доступа группы ВКонтакте. Получается через раздел **"Работа с API"** в настройках группы (разрешите доступ к сообщениям).

`DIALOGFLOW_PROJECT_ID` — ID проекта Dialogflow. Найти его можно в **Google Cloud Console**.

`TG_CHAT_ID` — ID чата в Telegram, куда будут отправляться сообщения об ошибках, если что-то пойдёт не так с ботами.

## Запуск бота
### Для запуска Telegram-бота выполните команду:
```shell
python telegram_bot.py
```
Бот отвечает на текстовые сообщения, используя Dialogflow.
### Для запуска VK-бота выполните команду:
```shell
python vk_bot.py
```
Бот обрабатывает входящие сообщения в группе ВКонтакте и отвечает, используя Dialogflow, при наличии понятного интента.

## Обучение Dialogflow.
Скрипт `train_dialogflow.py` загружает фразы и ответы из файла `questions.json` и создаёт соответствующие интенты в вашем проекте **Dialogflow**.

#### 1. Подготовьте файл `questions.json`. Пример содержимого:

```json
{
  "Приветствие": {
    "questions": ["Привет", "Здравствуйте", "Хай", "Добрый день"],
    "answer": "Привет! Чем могу помочь?"
  },
  "Прощание": {
    "questions": ["Пока", "До свидания", "Увидимся"],
    "answer": "Пока! Хорошего дня!"
  }
}
```
#### 2. Запустите обучение

Убедитесь, что у вас настроены переменные окружения (в частности `DIALOGFLOW_PROJECT_ID`), затем выполните:

```shell
python train_dialogflow.py
```
После запуска в вашей консоли появятся сообщения об успешно созданных интентах.